{{define "content"}}
<div class="container detail-container">
    {{if .Artist}}
    <div class="artist-header fade-in-on-scroll">
        <div class="artist-header-image">
            {{if .Artist.Image}}
            <img src="{{.Artist.Image}}" alt="{{.Artist.Name}}" class="detail-img" loading="eager">
            {{else}}
            <div class="detail-img detail-img-placeholder">üéµ</div>
            {{end}}
        </div>
        <div class="artist-info">
            <h1>{{.Artist.Name}}</h1>
            <p class="detail-intro">D√©couvrez toutes les informations sur cet artiste</p>

            <div class="detail-stats">
                {{if .Artist.Popularity}}
                <div class="stat-item">
                    <span class="stat-label">Popularit√©</span>
                    <span class="stat-value">{{.Artist.Popularity}}/100</span>
                </div>
                {{end}}
                {{if .Artist.Followers}}
                <div class="stat-item">
                    <span class="stat-label">Followers</span>
                    <span class="stat-value">{{.Artist.Followers | formatNumber}}</span>
                </div>
                {{end}}
                {{if .Artist.CreationDate}}
                <div class="stat-item">
                    <span class="stat-label">Ann√©e de cr√©ation</span>
                    <span class="stat-value">{{.Artist.CreationDate}}</span>
                </div>
                {{end}}
            </div>

            {{if .Artist.FirstAlbum}}
            <div class="detail-album-info">
                <span class="album-label">Premier album</span>
                <span class="album-name">{{.Artist.FirstAlbum}}</span>
            </div>
            {{end}}

            {{if .Artist.Genres}}
            <div class="genres-list">
                <strong>Genres</strong>
                <div class="genre-tags">
                    {{range .Artist.Genres}}<span class="genre-tag">{{.}}</span>{{end}}
                </div>
            </div>
            {{end}}

            {{if .Artist.Members}}
            <div class="genres-list">
                <strong>Membres</strong>
                <div class="genre-tags">
                    {{range .Artist.Members}}<span class="genre-tag">{{.}}</span>{{end}}
                </div>
            </div>
            {{end}}

            {{if .Artist.SpotifyURL}}
            <a href="{{.Artist.SpotifyURL}}" target="_blank" rel="noopener" class="btn-spotify">√âcouter sur Spotify</a>
            {{end}}
        </div>
    </div>

    {{if .Artist.TopTracks}}
    <section class="detail-section fade-in-on-scroll">
        <h2>Top titres</h2>
        <ul class="track-list">
            {{range .Artist.TopTracks}}
            <li class="track-item">
                <span class="track-name">{{.Name}}</span>
                {{if .AlbumName}}<span class="track-album">{{.AlbumName}}</span>{{end}}
                <span class="track-duration">{{.DurationMs | formatDuration}}</span>
                {{if .PreviewURL}}<a href="{{.PreviewURL}}" target="_blank" rel="noopener" class="track-preview" title="Aper√ßu">‚ñ∂</a>{{end}}
                {{if .SpotifyURL}}<a href="{{.SpotifyURL}}" target="_blank" rel="noopener" class="track-spotify">Spotify</a>{{end}}
            </li>
            {{end}}
        </ul>
    </section>
    {{end}}

    {{if .Artist.Albums}}
    <section class="detail-section fade-in-on-scroll">
        <h2>Albums</h2>
        <div class="album-grid">
            {{range .Artist.Albums}}
            <a href="{{.SpotifyURL}}" target="_blank" rel="noopener" class="album-card">
                {{if .ImageURL}}<img src="{{.ImageURL}}" alt="{{.Name}}" class="album-cover" loading="lazy">{{else}}<div class="album-cover album-cover-placeholder">üíø</div>{{end}}
                <div class="album-info">
                    <strong>{{.Name}}</strong>
                    <span>{{.ReleaseDate}}</span>
                    <span>{{.TotalTracks}} pistes</span>
                </div>
            </a>
            {{end}}
        </div>
    </section>
    {{end}}

    {{if .Artist.RelatedArtists}}
    <section class="detail-section fade-in-on-scroll">
        <h2>Artistes similaires</h2>
        <div class="related-grid">
            {{range .Artist.RelatedArtists}}
            <a href="{{.SpotifyURL}}" target="_blank" rel="noopener" class="related-card">
                {{if .ImageURL}}<img src="{{.ImageURL}}" alt="{{.Name}}" class="related-img" loading="lazy">{{else}}<div class="related-img related-img-placeholder">üé§</div>{{end}}
                <strong>{{.Name}}</strong>
                {{if .Genres}}<div class="genre-tags">{{range .Genres}}<span class="genre-tag">{{.}}</span>{{end}}</div>{{end}}
            </a>
            {{end}}
        </div>
    </section>
    {{end}}

    <div class="actions fade-in-on-scroll">
        <a href="/artists" class="btn-back">‚Üê Retour √† la liste</a>
    </div>
    {{else}}
    <div class="error-page">
        <p>Artiste non trouv√©.</p>
        <a href="/artists" class="btn-back">‚Üê Retour √† la liste</a>
    </div>
    {{end}}
</div>
{{end}}
